import{d as B}from"./chunks/debounce.DIqZWvJX.js";import{a as D}from"./chunks/isObject.D7bzW4Uf.js";import{d as b,p as k,h as a,c as p,o as d,k as y,j as o,N as E,F as x,B as S,t as T,ae as u,G as V}from"./chunks/framework.BRPXGK5M.js";var H="Expected a function";function q(h,i,t){var s=!0,e=!0;if(typeof h!="function")throw new TypeError(H);return D(t)&&(s="leading"in t?!!t.leading:s,e="trailing"in t?!!t.trailing:e),B(h,i,{leading:s,maxWait:i,trailing:e})}const I=b({name:"MercuryFixedVList",__name:"FixedVList",props:{data:{},itemHeight:{default:50}},setup(h){const i=h,t=k(0),s=k(0),e=k(),F=a(()=>i.data.length*i.itemHeight),m=a(()=>e.value?e.value.offsetHeight:0),g=a(()=>Math.ceil(m.value/i.itemHeight)+1),v=a(()=>t.value+g.value),_=a(()=>{const r=Math.max(0,t.value-g.value),l=Math.min(v.value,i.data.length);return i.data.slice(r,l)}),f=a(()=>`transform:translateY(${s.value}px)`),C=a(()=>`height: ${F.value}px`),A=a(()=>`height: ${i.itemHeight}px; line-height: ${i.itemHeight}px`),c=q(r=>{const l=r.target;if(!l)return;const{scrollTop:n}=l;t.value=Math.floor(n/i.itemHeight),s.value=t.value*i.itemHeight},100);return(r,l)=>(d(),p("div",{class:"mr-virtual-list",ref_key:"listRef",ref:e,onScroll:l[0]||(l[0]=(...n)=>y(c)&&y(c)(...n))},[o("div",{class:"mr-virtual-list-filler",style:E(C.value)},null,4),o("div",{class:"mr-virtual-list-content",style:E(f.value)},[(d(!0),p(x,null,S(_.value,n=>(d(),p("div",{class:"mr-virtual-list-item",key:n,style:E(A.value)},T(n),5))),128))],4)],544))}}),P={style:{width:"100%",height:"500px"}},O=JSON.parse('{"title":"Virtual-List","description":"用于高效渲染超长定高列表的虚拟滚动组件。","frontmatter":{"title":"Virtual-List","description":"用于高效渲染超长定高列表的虚拟滚动组件。"},"headers":[],"relativePath":"components/virtual-list.md","filePath":"components/virtual-list.md"}'),L={name:"components/virtual-list.md"},w=Object.assign(L,{setup(h){const i=k(Array.from({length:1e4},(t,s)=>`当前显示数据 ${s+1}`));return(t,s)=>(d(),p("div",null,[s[0]||(s[0]=u("",4)),o("div",P,[V(I,{data:i.value},null,8,["data"])]),s[1]||(s[1]=u("",4))]))}});export{O as __pageData,w as default};
