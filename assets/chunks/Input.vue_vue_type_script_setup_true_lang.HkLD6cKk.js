import{d as D,al as O,p as i,h as C,q as T,c as l,o as a,n as U,af as g,F as j,e as n,j as P,r as c,am as q,K as _,k as F,b as v,Z as E,an as K,P as S}from"./framework.BRPXGK5M.js";import{_ as y}from"./Icon.vue_vue_type_script_setup_true_lang.Da1XmUXQ.js";const Z={key:0,class:"mr-input__prepend"},G={class:"mr-input__wrapper"},H={key:0,class:"mr-input__prefix"},J=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],L={key:1,class:"mr-input__append"},Q=["disabled","readonly","autocomplete","placeholder","autofocus","form"],Y=D({name:"MercuryInput",__name:"Input",props:{type:{default:"text"},size:{},modelValue:{default:""},clearable:{type:Boolean},showPassword:{type:Boolean},disabled:{type:Boolean},placeholder:{},readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},emits:["change","input","focus","blur","clear","update:modelValue"],setup(I,{expose:M,emit:z}){const t=I,o=z,h=O(),r=i(!1),u=i(!1),s=i(t.modelValue),p=i(),k=C(()=>t.clearable&&!t.disabled&&!!s.value&&r.value),f=C(()=>t.showPassword&&!t.disabled&&!!s.value),w=()=>{o("update:modelValue",s.value),o("input",s.value)},b=()=>{o("change",s.value)},$=e=>{r.value=!0,o("focus",e)},N=async()=>{var e;await S(),(e=p.value)==null||e.focus()},V=e=>{r.value=!0,o("blur",e)},R=()=>{s.value="",o("update:modelValue",""),o("clear"),o("input",""),o("change","")},B=()=>{u.value=!u.value},A=()=>{};return T(()=>t.modelValue,e=>{s.value=e}),M({ref:p.value}),(e,d)=>(a(),l("div",{class:U(["mr-input",{[`mr-input--${e.type}`]:e.type,[`mr-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":r.value}])},[e.type!=="textarea"?(a(),l(j,{key:0},[e.$slots.prepend?(a(),l("div",Z,[c(e.$slots,"prepend")])):n("",!0),P("div",G,[e.$slots.prefix?(a(),l("span",H,[c(e.$slots,"prefix")])):n("",!0),g(P("input",_({type:e.showPassword?u.value?"text":"password":e.type},F(h),{class:"mr-input__inner",disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":d[0]||(d[0]=m=>s.value=m),onInput:w,onFocus:$,onBlur:V,onChange:b,ref_key:"inputRef",ref:p}),null,16,J),[[q,s.value]]),e.$slots.suffix||k.value||f.value?(a(),l("span",{key:1,class:"mr-input__suffix",onClick:N},[c(e.$slots,"suffix"),k.value?(a(),v(y,{key:0,icon:"circle-xmark",class:"mr-input__clear",onClick:R,onMousedown:E(A,["prevent"])})):n("",!0),f.value&&u.value?(a(),v(y,{key:1,icon:"eye",class:"mr-input__password",onClick:B})):n("",!0),f.value&&!u.value?(a(),v(y,{key:2,icon:"eye-slash",class:"mr-input__password",onClick:B})):n("",!0)])):n("",!0)]),e.$slots.append?(a(),l("div",L,[c(e.$slots,"append")])):n("",!0)],64)):g((a(),l("textarea",_({key:1},F(h),{class:"mr-textarea__wrapper",disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":d[1]||(d[1]=m=>s.value=m),onInput:w,onFocus:$,onBlur:V,onChange:b,ref_key:"inputRef",ref:p}),null,16,Q)),[[K,s.value]])],2))}});export{Y as _};
